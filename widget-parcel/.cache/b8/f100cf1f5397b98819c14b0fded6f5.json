{"id":"FLHj","dependencies":[{"name":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\package.json","includedInParent":true,"mtime":1625202366836},{"name":"react","loc":{"line":1,"column":55},"parent":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\App.js","resolved":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\node_modules\\react\\index.js"},{"name":"./style.scss","loc":{"line":2,"column":7},"parent":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\App.js","resolved":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\style.scss"},{"name":"react-router-dom","loc":{"line":3,"column":55},"parent":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\App.js","resolved":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\node_modules\\react-router-dom\\esm\\react-router-dom.js"},{"name":"firebase","loc":{"line":4,"column":21},"parent":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\App.js","resolved":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\node_modules\\firebase\\dist\\index.esm.js"},{"name":"firebase/firestore","loc":{"line":5,"column":7},"parent":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\src\\App.js","resolved":"C:\\Users\\king1\\Documents\\GitHub\\react-widget\\widget-parcel\\node_modules\\firebase\\firestore\\dist\\index.esm.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=o(require(\"react\"));require(\"./style.scss\");var t=require(\"react-router-dom\"),r=n(require(\"firebase\"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(\"default\"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var u=o?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(n,c,u):n[c]=e[c]}return n.default=e,r&&r.set(e,n),n}function c(e,t){return d(e)||f(e,t)||l(e,t)||u()}function u(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function l(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,o=[],c=!0,u=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(l){u=!0,a=l}finally{try{c||null==r.return||r.return()}finally{if(u)throw a}}return o}}function d(e){if(Array.isArray(e))return e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}require(\"firebase/firestore\");var y={apiKey:\"AIzaSyCh6HqY3ecTgHP3UcwXnx_rO8WCKBlanIg\",authDomain:\"system-monitor-6737e.firebaseapp.com\",databaseURL:\"https://system-monitor-6737e.firebaseio.com\",projectId:\"system-monitor-6737e\",storageBucket:\"system-monitor-6737e.appspot.com\",messagingSenderId:\"382753654296\",appId:\"1:382753654296:web:a412a8c5bf89c815ab656d\",measurementId:\"G-PKTL22FSB2\"};r.default.initializeApp(y),r.default.analytics();var h=r.default.firestore(),b=encodeURIComponent(\"https://somuneza.site\"),g=encodeURIComponent(\"https://somuneza.site/12312322\"),O=function(t){var r=t.commentList,n=function(t){var r;var n=new Date(1e3*(null==t?void 0:null===(r=t.createdDate)||void 0===r?void 0:r.seconds));return e.default.createElement(\"div\",{className:\"CommentItem\"},e.default.createElement(\"div\",{className:\"author\"},\"작성자 : \",t.author),e.default.createElement(\"div\",null,function(e){var t=(new Date-e)/1e3;if(t<60)return\"방금 전\";var r=t/60;if(r<60)return\"\".concat(Math.floor(r),\"분 전\");var n=r/60;if(n<24)return\"\".concat(Math.floor(n),\"시간 전\");var a=n/24;if(a<7)return\"\".concat(Math.floor(a),\"일 전\");var o=a/7;if(o<5)return\"\".concat(Math.floor(o),\"주 전\");var c=a/30;if(c<12)return\"\".concat(Math.floor(c),\"개월 전\");var u=a/365;return\"\".concat(Math.floor(u),\"년 전\")}(n)),e.default.createElement(\"div\",{className:\"comment\"},t.comment))},a=r.sort(function(e,t){return e.createdDate>t.createdDate?-1:e.createdDate<t.createdDate?1:0});return e.default.createElement(\"div\",null,a.map(function(t){return e.default.createElement(n,v({key:t.id},t))}))},E=function(t){var r=t.addComment,n=c((0,e.useReducer)(function(e,t){switch(t.type){case\"SET_SITE\":return m(m({},e),{},{site:t.data});case\"SET_LOC\":return m(m({},e),{},{loc:t.data});case\"SET_AUTHOR\":return m(m({},e),{},{author:t.data});case\"SET_COMMENT\":return m(m({},e),{},{comment:t.data});default:return e}},{author:\"\",comment:\"\"}),2),a=n[0],o=n[1];return e.default.createElement(\"div\",{className:\"CommentForm\"},e.default.createElement(\"div\",{className:\"author_box\"},e.default.createElement(\"input\",{type:\"text\",value:a.author,placeholder:\"작성자를 입력해주세요\",onChange:function(e){return o({type:\"SET_AUTHOR\",data:e.target.value})}})),e.default.createElement(\"div\",{className:\"content_box\"},e.default.createElement(\"textarea\",{style:{width:\"100%\",height:\"50px\"},type:\"textarea\",placeholder:\"댓글을 입력해주세요\",value:a.comment,onChange:function(e){return o({type:\"SET_COMMENT\",data:e.target.value})}})),e.default.createElement(\"div\",{className:\"submit_box\"},e.default.createElement(\"button\",{onClick:function(){return r(a.author,a.comment)}},\"ADD COMMENT\")))},w=function(){var t=c((0,e.useState)([]),2),n=t[0],a=t[1],o=function(){var e=h.collection(\"comment\").doc(b).collection(g),t=[];e.get().then(function(e){e.forEach(function(e){console.log(e.id,\" => \",e.data()),t.push({id:e.id,author:e.data().author,comment:e.data().comment,createdDate:e.data().createdDate})}),a(t)})};return(0,e.useEffect)(function(){o()},[]),e.default.createElement(\"div\",null,e.default.createElement(E,{addComment:function(e,t){if(e.length>1&&t.length>1){var n=r.default.firestore.Timestamp.fromDate(new Date);h.collection(\"comment\").doc(b).collection(g).add({author:e,comment:t,createdDate:n}).then(function(e){console.log(\"Document written with ID: \",e.id),o()}).catch(function(e){console.error(\"Error adding document: \",e)})}else console.log(\"입력해라\")}}),e.default.createElement(O,{commentList:n}))},j=function(){return e.default.createElement(w,null)},D=function(t){var r=t.domElement;console.log(r);r.getAttribute(\"widget-type\");var n=r.getAttribute(\"ownerid\");return console.log(n),e.default.createElement(\"div\",null,e.default.createElement(j,null))},M=D;exports.default=M;"},"sourceMaps":null,"error":null,"hash":"f3efb3aa16fc90c30c4d5e5f690ac483","cacheData":{"env":{}}}